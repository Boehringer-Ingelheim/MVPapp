<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Effective Exploratory Data Analysis ‚Ä¢ MVPapp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Effective Exploratory Data Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MVPapp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data-exploration.html">Effective Exploratory Data Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/supply-passwords.html">Supplying Passworded Models</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Boehringer-Ingelheim/MVP/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Effective Exploratory Data Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Boehringer-Ingelheim/MVP/blob/HEAD/vignettes/data-exploration.Rmd" class="external-link"><code>vignettes/data-exploration.Rmd</code></a></small>
      <div class="d-none name"><code>data-exploration.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<blockquote>
<p>‚ÄúIf you know the enemy and know yourself, you need not fear the
result of a hundred battles.‚Äù</p>
<pre><code>                                                      --- Sun Tzu, The Art of War</code></pre>
</blockquote>
<p>Understanding the data via exploratory data analysis (EDA) is
arguably the most important aspect during model development, yet often
overlooked. MVP provides some flexible tools to inspect and explore
uploaded datasets quickly, with the goal to effortlessly:</p>
<ul>
<li>Perform summary checks on data on a population level</li>
<li>Review and highlight profiles on an individual level</li>
</ul>
<p>This vignette is meant to introduce a <strong>workflow of using MVP
to perform quick exploratory data analysis</strong>, which all takes
place in the ‚ÄúData Input‚Äù page. The reader is recommended to start MVP
on a separate browser screen and follow the instructions on this
page.</p>
</div>
<div class="section level2">
<h2 id="uploading-and-filtering-data">Uploading and Filtering Data<a class="anchor" aria-label="anchor" href="#uploading-and-filtering-data"></a>
</h2>
<ol style="list-style-type: decimal">
<li>The first step is upload a NONMEM-compatible (.csv) dataset, or a
tab-delimited text file (.txt). For full compatibility for the rest of
the app, the <code>ID</code>, <code>DV</code>, and <code>TIME</code>
columns should be present in the dataset. <strong>At minimum, the
<code>ID</code> column should be present</strong> to at least support
plotting in the Data Exploration pages on the right hand side of the
page.<br>
</li>
<li>There are built-in dataset cleaning options (options collapsed by
default - click on the ‚Äú+‚Äù icon to expand the box) that provides
short-cuts to commonly used options to filter the dataset. For more
custom filtering needs beyond the basics, the code editor on the left
hand side of the page provides this flexibility (e.g.¬†renaming
Concentration and Time columns to be <code>DV</code> and
<code>TIME</code>, respectively, if using non-NONMEM formatted
datasets).</li>
<li>Click on the Apply button on the code editor when you are done with
filtering via code - a dynamic table showing the filtered data should
now show up on the right hand side of the screen (the ‚ÄúFiltered Data‚Äù
tab) and able to be downloaded if required. If not, check the Console
below the Code Editor for potential error messages.</li>
</ol>
<p>üí° In general, the filters applied here should match with what
eventually will be used in the NONMEM control stream files.</p>
</div>
<div class="section level2">
<h2 id="summary-statistics">Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h2>
<p>Quick summary statistics are now available on the ‚ÄúSummary
Statistics‚Äù tab on the right hand side of the page, derived by using
<code>ID</code> as a grouping variable. While summary of all variables
(each column) will be provided, obviously not all are relevant or
applicable, especially if a variable is a categorical (i.e.¬†discrete)
variable. However, this is a <strong>useful functionality to review
summary statistics for continuous variables</strong> e.g.¬†body weight or
renal function.<br><br>
üí° There is a ‚ÄúTranspose Table‚Äù checkbox that will further aid
visualization of the results for datasets with a lot of columns.</p>
</div>
<div class="section level2">
<h2 id="descriptive-statistics-nca">Descriptive Statistics (NCA)<a class="anchor" aria-label="anchor" href="#descriptive-statistics-nca"></a>
</h2>
<p><em>Note: NCA functionality is currently only applicable for single
ascending dose (SAD) studies or its equivalent where each subject will
only receive one dose in a single compartment. If that‚Äôs not the case,
skip this section.</em></p>
<ol style="list-style-type: decimal">
<li>Column names for Time, Concentration, Dose will be pre-filled after
a dataset is uploaded (user can adjust as they see fit).<br>
</li>
<li>Provide a ‚ÄúGroup by Additional Column‚Äù variable to sort by the
defined grouping in the table output.<br>
</li>
<li>(Optional) Adjust the units and provide a molecular weight (derives
clearance and volume terms if present).<br>
</li>
<li>Click the ‚ÄúCalculate NCA‚Äù button to view results. The result
table(s) can be transposed accordingly if required.</li>
</ol>
<p>üí° Individual results and/or all profiles can be downloaded by
clicking on their respective buttons on the bottom right of the page.
For information and details on the various settings, visit <a href="https://asancpt.github.io/book-ncar-en/methods.html#r-packages-noncompart-and-ncar/" target="_blank" class="external-link">the NonCompart and ncar packages guide</a>.</p>
</div>
<div class="section level2">
<h2 id="general-plot">General Plot<a class="anchor" aria-label="anchor" href="#general-plot"></a>
</h2>
<p>The General Plot provide a quick way to visualize multiple data
types, including continuous/continuous data, continuous/discrete data
(box plots), and discrete/discrete data (count plots).</p>
<div class="section level3">
<h3 id="continuous-plots">Continuous Plots<a class="anchor" aria-label="anchor" href="#continuous-plots"></a>
</h3>
<ol style="list-style-type: decimal">
<li>By default, the x-axis and y-axis will be updated to select
<code>TIME</code> and <code>DV</code> columns automatically. For
non-NONMEM datasets, the user may need to adjust accordingly.<br>
</li>
<li>(Optional) The ‚Äúcolor by‚Äù setting makes it easy to further
categorize and visualize the data. It is recommended (but not required)
to use a categorical variable for this option.<br>
</li>
<li>(Optional) The ‚Äúfacet(s) by‚Äù setting provides even more flexibility
by allowing <strong>multiple columns</strong> to perform a
<code>facet_wrap()</code>. To optimize visualization, there currently is
a hard limit of up to 30 unique combinations.</li>
<li>(Optional) Median lines by variable allows quick assessment of
trends by variable. Median lines are derived by connecting the median
values of quantiles (n=20) across the x-axis.</li>
<li>(Optional) For PKPD models with multiple compartments, a quick
shortcut is available to filter to only the compartment of interest to
be shown.</li>
<li>(Optional) Plots can be downloaded by clicking on the camera icon
(if plots are interactive) on the top right of the plot, or by clicking
the ‚ÄúDownload Non-Interactive Plot‚Äù button (if it is a regular plot).
Image settings can be configured in the ‚ÄúDownload Options‚Äù box, which is
collapsed by default (expand by clicking on the ‚Äú+‚Äù icon).</li>
</ol>
<p>üí° The ‚ÄúQuantize X-axis‚Äù option converts a continuous X-axis into
discrete quantiles, and displays the results in a box plot with the
quantile limits shown at the bottom. <strong>Note that this option
retains all observations, as opposed to the ‚ÄúBox plot‚Äù option that only
retains unique IDs</strong>.</p>
<p>üí° by default interactive plots are switched off for speed.
<strong>Toggle the checkbox to allow interactive plotting, where
hovering on each individual observation will display extra
information</strong>, along with other useful features.</p>
</div>
<div class="section level3">
<h3 id="box-plots">Box plots<a class="anchor" aria-label="anchor" href="#box-plots"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Assuming that the x-axis is a categorical variable</strong>,
one can toggle the box plot icon to change the visualization to display
a box plot (by unique IDs), with the number of subjects displayed on top
of each boxplot. There currently is a hard limit of up to 20 categories
for box plots (i.e.¬†must have &lt;= 20 unique x-axis values).</li>
<li>(Optional) ‚ÄúColor by‚Äù and ‚Äúfacet(s) by‚Äù settings apply accordingly.
Use the ‚ÄúText Label Size‚Äù to adjust the text size that displayed the
number of subjects.</li>
</ol>
<p>üí° Switch off Interactive Plot when using the ‚ÄúColor by‚Äù option to
ensure the box plots are dodged properly, as the <code>plotly</code>
package currently do not offer full support during conversion of a
ggplot object.</p>
</div>
<div class="section level3">
<h3 id="count-plots">Count plots<a class="anchor" aria-label="anchor" href="#count-plots"></a>
</h3>
<p>Count plots are considered a special case of box plot where the
y-axis variable is either:</p>
<ul>
<li>A character type, or</li>
<li>There are &lt;=7 unique values</li>
</ul>
<p><strong>Count plots are triggered automatically when any of these two
conditions are met when the Box Plot option is toggled.</strong> The
size of the circle reflects the number of unique subjects belonging to
that subset, which is also displayed in a text label.</p>
<p>üí° Currently if the ‚ÄúColor by‚Äù option is used, a known issue is that
the circles would be stacked on top of each other. A workaround is to
use the Interactive Plot option and hover over the circle to obtain
count sizes of the ‚Äúhidden‚Äù circles.</p>
</div>
</div>
<div class="section level2">
<h2 id="individual-plots">Individual Plots<a class="anchor" aria-label="anchor" href="#individual-plots"></a>
</h2>
<p>Most options in the ‚ÄúInd. Plot‚Äù tab are carried over from the
‚ÄúGeneral Plot‚Äù tab, with the exception of the ‚ÄúFacet by‚Äù option, since
individual plots are always faceted by the <code>ID</code> column. Note
that smoothers and median lines are not relevant for individual plots so
they will also not be inserted.</p>
<ol style="list-style-type: decimal">
<li>By default, 9 subjects are displayed per page. Adjust the ‚ÄúRows per
Page‚Äù and ‚ÄúColumns per Page‚Äù accordingly to change the number of
subjects per page. Note that the Page selector will be updated
dynamically to reflect any changes in rows and columns.<br>
</li>
<li>(Optional) Dosing information is enabled by default, which searches
for the <code>EVID</code>, <code>ADDL</code>, and <code>II</code>
columns, and inserts dosing lines for each subject. The height of the
dosing lines are scaled by their relative amount that is given by the
‚ÄúDose Column‚Äù, and each unique dose will be labeled as text. If the
<code>RATE</code> column is present, the dosing lines will be extended
accordingly to the infusion duration. An optional unit for the dose can
also be inserted. <strong>Dosing records (i.e.¬†EVID == 1) must be
present in the filtered data for this option to work!</strong>
</li>
<li>(Optional) BLQ information can be inserted by providing the ‚ÄúLLOQ
Column‚Äù, which will then be shown as horizontal dashed orange
lines.</li>
<li>(Optional) Select any specific number of subjects to be viewed by
using the ‚ÄúSelect ID(s)‚Äù option. When any subjects are selected this
way, the page, row and column options will be ignored.</li>
<li>(Optional) The ‚ÄúFlag Variable‚Äù option allows the user to select a
variable, and any of its associated values, to be flagged as an red
asterix (<strong><code>*</code></strong>) on the plot, for further
visualization beyond the ‚ÄúColor by‚Äù option.</li>
<li>(Optional) The ‚ÄúFlag Outliers‚Äù option allows the user to select a
stratification group, and combined with the ‚ÄúOutlier Threshold‚Äù option,
<strong>potential outliers will be automatically highlighted in their
subplot ID label</strong>. The method of determining whether a subject
is an outlier is done by deriving the arithmetic mean of all Y-axis
values, and compare it to the entire group‚Äôs arithmetic mean. If the
subject‚Äôs mean value is above/below X% of the group, the subject will be
considered an outlier.</li>
</ol>
<p>üí° To visualize and/or highlight BLQ values, make sure the built-in
filter option to remove BLQ values on the left hand side of the page is
<strong>unchecked</strong> (‚ÄúBuilt-in Dataset Cleaning Options‚Äù box -
click on the ‚Äú+‚Äù icon to expand the box)!</p>
<p>üí° All individual profiles can be downloaded by clicking on the
‚ÄúGenerate All Individuals‚Äù button which is located directly below the
plot. Plot dimensions can be adjusted by expanding the ‚ÄúDownload
Options‚Äù box on the bottom right side of the page.</p>
</div>
<div class="section level2">
<h2 id="correlation-plots">Correlation Plots<a class="anchor" aria-label="anchor" href="#correlation-plots"></a>
</h2>
<p>Correlation between variables can be quickly assessed in this tab,
using the <code><a href="https://ggobi.github.io/ggally/reference/ggpairs.html" class="external-link">GGally::ggpairs</a></code> function. It is recommended to
keep the number of variables &lt;7 as the plot may become too bunched
up.</p>
<p>üí° Any variables with more than &lt;=10 unique values are assumed to
be categorical and converted into a factor for plotting.</p>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The Data Input page of MVP offers the ability to effortlessly review
the data, assisting sanity checks and easily pinpoint outliers or
potential errors. While this does not replace a more rigorous
(i.e.¬†scripted) EDA, the provided features serves as a great
‚Äúfirst-pass‚Äù and should massively reduce turnaround time of queries back
to data programmers.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Choy, Jin Gyu Kim.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
